<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar nueva reserva</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://hosteria-america.com/images/logo.png" alt="Logo Hosteria America" width="250"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item active" style="text-align: center"> 
                        <a class="nav-link" href="/dashboard"><i class="fa fa-tachometer"></i><br>Panel</a>
                    </li>
                    <li class="nav-item active" style="text-align: center"> 
                        <a class="nav-link" href="/creaPax"><i class="fa fa-user-plus"></i><br>Ingresar PAX</a>
                    </li>
                    <li class="nav-item active" style="text-align: center">
                        <a class="nav-link" href="/creaReserva"><i class="fa fa-calendar-o"></i><br>Generar Reserva</a>
                    </li>
                    <li class="nav-item" style="text-align: center">
                        <a class="nav-link" href="/pasajeros"><i class="fa fa-users"></i><br>Pasajeros</a>
                    </li>
                    <li class="nav-item" style="text-align: center">
                        <a class="nav-link" href="/reservas"><i class="fa fa-folder-open-o"></i><br>Reservas</a>
                    </li>
                    <li class="nav-item" style="text-align: center">
                        <a class="nav-link" href="/buscar"><i class="fa fa-search"></i><br> Buscador</a>
                    </li>
                    <li class="nav-item" style="text-align: center">
                        <a class="nav-link" href="/tarifas"><i class="fa fa-usd"></i><br> Tarifas</a>
                    </li>

                </ul>
            </div>

        </div>
        <% if(usuario) { %>
            <a class="btn btn-danger btn-sm" style="margin-right: 25px;" href="/logout"><%= usuario %> <br> Cerrar sesión</a>
            <% } %>
    </nav>

    <div class="col-md-10 p-md-5 mx-auto">
        <div class="card">
            <div class="card-body p-md-5">
                <p class="text-center h2 fw-bold mb-5 mx-1 mx-md-4 mt-4">Generar reserva</p>
                <div class="col-auto mx-auto">
                    <form action="/crearReserva" method="POST">
                        <div class="form-group">
                            <div class="row">
                                <div class="col"><label for="titular">Titular de la reserva:</label><input type="text"
                                        placeholder="Nombre y apellido" class="form-control" name="titular" required autofocus>
                                </div>
                                <div class="col"><label for="checkout">Habitación:</label><input list="cathabitacion"
                                        class="form-control" name="cathabitacion" placeholder="Standard" required>
                                    <datalist id="cathabitacion">
                                        <option value="Standard">Máx. 4 huéspedes</option>
                                        <option value="Standard con vista">Máx. 3 huéspedes</option>
                                        <option value="Master Suite">Máx. 5 huéspedes</option>
                                        <option value="Suite Superior">Máx. 4 huéspedes</option>
                                        <option value="Departamento">Máx. 6 huéspedes</option>
                                    </datalist>
                                </div>

                            </div>
                        </div><br>
                        <div class="form-group">
                            <div class="row">
                                <div class="col"><label for="checkin">Fecha de ingreso:</label><input type="date"
                                        id="dateIn" class="form-control" name="checkin" required></div>
                                <div class="col"><label for="checkout">Fecha de salida:</label><input type="date"
                                        id="dateOut" class="form-control" name="checkout" required></div>
                            </div>
                        </div><br>
                        <div class="form-group">
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col"><label for="first_name">Huéspedes</label><input type="text"
                                        class="form-control" name="cantidadpax" list="cantidadpax" placeholder="2"
                                        required="required"><datalist id="cantidadpax">
                                        <option value="1">1</option>
                                        <option value="2" selected>2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                    </datalist></div>
                                <div class="col"><label for="vencimiento">Vencimiento: <i>No es
                                            obligatorio</i></label><input type="date" class="form-control"
                                        name="vencimiento"></div>
                            </div>
                        </div><br>
                        <div class="form-group">
                            <div class="row">
                                <div class="col"><label for="checkin">E-mail:</label><input type="text"
                                        placeholder="contacto@personal.com" class="form-control" name="email" required></div>
                                <div class="col"><label for="checkout">Teléfono: <i>(agregar número completo sin el +)</i></label><input type="text"
                                    placeholder="5492901514615" class="form-control" name="telefono" required></div>
                            </div>
                        </div><br>
                        <div class="form-group">
                            <div class="row">
                                <div class="col"><label for="codigoreserva">Código de reserva:</label><input type="text"
                                        class="form-control" name="codigoreserva" placeholder="secreto123" required>
                                </div>
                                <div class="col"><label for="comentarios">Comentarios:</label><textarea
                                        class="form-control" rows="5" cols="50" name="comentarios" maxlength="200"
                                        placeholder="Comentarios de la reserva. (Máx. 200 caracteres)"></textarea></div>
                            </div>
                        </div><br>
                        <br>
                        <div class="alert alert-primary" role="alert">
                            <i>El código de reserva debe ser único por cada reserva. Una buena práctica es utilizar el
                                apellido + fecha del IN para facilitar la lectura. <br>
                                Por ej: salazar2212 (pax salazar ingresa el dia 22 del mes 12)
                            </i>
                        </div>
                </div>
                <div class="row g-3">
                    <div class="col-auto mx-auto">
                        <button type="submit" class="btn w-100 btn-success mt-3">Generar reserva</button>
                    </div>
                    </form>

                </div>
            </div>
        </div>
    </div>


    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <% if(typeof alert !="undefined" ) { %>
        <script>
            Swal.fire({
                html: `<strong><%= alertMessage %></strong>`,
                title: '<%= alertTitle %>',
                /* text: '<%= alertMessage %>', */
                icon: '<%= alertIcon %>',
                showConfirmButton: '<%= showConfirmButton %>',
                timer: '<%= timer %>',
            }).then(() => {
                window.location = '/<%= ruta %>'
            })
        </script>

        <% } %>

            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.3/moment.min.js"></script>

            <script>
                // seteo inputs date con la fecha de hoy para el in y la fecha de mañana para el out
                const today = new Date()
                const tomorrow = new Date()
                tomorrow.setDate(today.getDate() + 1)
                document.getElementById('dateOut').valueAsDate = tomorrow
                document.getElementById('dateIn').valueAsDate = today

            </script>
</body>

</html>